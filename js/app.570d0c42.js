(function(){"use strict";var e={3770:function(e,t,a){var r=a(144),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("app-header",{on:{drawer:function(t){e.drawer=!e.drawer},toggleMetric:e.toggleMetric,darkMode:e.darkMode}}),a("v-navigation-drawer",{attrs:{absolute:"",left:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{attrs:{nav:"",dense:""}},[a("div",{staticClass:"d-flex justify-center border-bot"},[a("v-list-item",{staticClass:"ma-0"},[e.$vuetify.theme.dark?a("v-tooltip",{staticClass:"ma-0",attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({staticClass:"blue darken-3",attrs:{"x-small":"",fab:""},on:{click:e.darkMode}},r),[a("v-icon",{attrs:{color:"yellow"}},[e._v("mdi-white-balance-sunny")])],1)]}}])},[a("span",[e._v("Dark Mode Off")])]):a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({staticClass:"blue darken-3",attrs:{"x-small":"",fab:""},on:{click:e.darkMode}},r),[a("v-icon",[e._v("mdi-moon-waxing-crescent")])],1)]}}],null,!1,2179853838)},[a("span",[e._v("Dark Mode On")])])],1),a("v-list-item",[e.isMetric?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({staticClass:"blue darken-3",attrs:{"x-small":"",fab:""},on:{click:e.toggleMetric}},r),[a("span",{staticClass:"mr-1"},[e._v("°F")])])]}}])},[a("span",[e._v("Imperial units")])]):a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({staticClass:"blue darken-3",attrs:{"x-small":"",fab:""},on:{click:e.toggleMetric}},r),[a("span",{staticClass:"mr-1"},[e._v("°C")])])]}}],null,!1,2979154827)},[a("span",[e._v("Metric units")])])],1)],1),a("v-list-item-group",{staticClass:"mt-3",model:{value:e.group,callback:function(t){e.group=t},expression:"group"}},[a("v-list-item",[a("router-link",{attrs:{to:"/",tag:"h1"}},[a("h1",[e._v("Home")])])],1),a("v-list-item",[a("router-link",{attrs:{to:"/favorites",tag:"h1"}},[a("h1",[e._v("Favorite")])])],1)],1)],1)],1),a("v-main",[this.$store.getters.userAlert.category?a("snack-bar"):e._e(),a("router-view")],1)],1)},i=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-app-bar",{attrs:{color:"light-blue accent-4",dense:"",dark:""}},[a("v-container",{class:["d-flex align-center justify-space-between",this.$vuetify.breakpoint.smAndDown&&"pa-0"]},[a("v-toolbar-title",[a("router-link",{attrs:{to:"/",tag:"span"}},[a("v-btn",{class:this.$vuetify.breakpoint.smAndDown&&"pa-0",attrs:{text:""}},[a("span",[e._v("Weather App")])])],1)],1),a("v-spacer"),e.isMobile?a("v-app-bar-nav-icon",{on:{click:function(t){return t.stopPropagation(),e.drawer.apply(null,arguments)}}}):e._e(),e.isMobile?e._e():a("div",{staticClass:"d-flex"},[a("router-link",{attrs:{to:"/",tag:"span"}},[a("v-btn",{attrs:{text:""}},[a("span",[e._v("Home")])])],1),a("router-link",{attrs:{to:"/favorites",tag:"span"}},[a("v-btn",{attrs:{text:""}},[a("span",[e._v("Favorites")])])],1),a("div",{staticClass:"ml-1"},[e.$vuetify.theme.dark?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({staticClass:"blue darken-3",attrs:{"x-small":"",fab:""},on:{click:e.darkMode}},r),[a("v-icon",{staticClass:"mt-1",attrs:{color:"yellow"}},[e._v("mdi-white-balance-sunny")])],1)]}}],null,!1,3337151094)},[a("span",[e._v("Dark Mode Off")])]):a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({staticClass:"indigo darken-4",attrs:{"x-small":"",fab:""},on:{click:e.darkMode}},r),[a("v-icon",{staticClass:"mr-1",attrs:{color:"grey"}},[e._v("mdi-moon-waxing-crescent")])],1)]}}],null,!1,3049430862)},[a("span",[e._v("Dark Mode On")])])],1),a("div",{staticClass:"ml-3"},[e.isMetric?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({staticClass:"blue darken-3",attrs:{"x-small":"",fab:""},on:{click:e.toggleMetric}},r),[a("span",{staticClass:"mr-1"},[e._v("°F")])])]}}],null,!1,4254401326)},[a("span",[e._v("Imperial units")])]):a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({staticClass:"indigo darken-4",attrs:{"x-small":"",fab:""},on:{click:e.toggleMetric}},r),[a("span",{staticClass:"mr-1"},[e._v("°C")])])]}}],null,!1,1530420048)},[a("span",[e._v("Metric units")])])],1)],1)],1)],1)],1)},n=[],l={name:"appHeader",methods:{darkMode(){this.$emit("darkMode")},toggleMetric(){this.$emit("toggleMetric")},drawer(){this.$emit("drawer")}},computed:{isMetric(){return this.$store.getters.isMetric},isMobile(){return this.$vuetify.breakpoint.smAndDown}}},c=l,u=a(1001),d=a(3453),v=a.n(d),f=a(8320),p=a(5206),m=a(680),h=a(4228),g=a(6428),y=a(9762),w=a(7921),_=a(9330),b=(0,u.Z)(c,o,n,!1,null,null,null),x=b.exports;v()(b,{VAppBar:f.Z,VAppBarNavIcon:p.Z,VBtn:m.Z,VContainer:h.Z,VIcon:g.Z,VSpacer:y.Z,VToolbarTitle:w.qW,VTooltip:_.Z});var k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"snack-bar"},[a("v-alert",{staticClass:"d-flex align-center",attrs:{type:e.userAlert.category}},[e._v(e._s(e.userAlert.userMsg)+" "),a("v-btn",{attrs:{"aria-label":"Dismiss Alert"},on:{click:function(t){return t.preventDefault(),e.dismiss.apply(null,arguments)}}},[e._v("Dismiss")])],1)],1)},D=[],$={name:"userAlert",created(){setTimeout(this.dismiss,2e3)},methods:{dismiss(){this.$store.dispatch({type:"dismissUserAlert"})}},computed:{userAlert(){return this.$store.getters.userAlert}}},C=$,M=a(3401),Z=(0,u.Z)(C,k,D,!1,null,null,null),V=Z.exports;v()(Z,{VAlert:M.Z,VBtn:m.Z});a(1703);const F={save:T,load:A};function T(e,t){localStorage.setItem(e,JSON.stringify(t))}function A(e){return JSON.parse(localStorage.getItem(e))}const S="eO1qKqy4GrqS3fJ9JziYSGcws3S68VN1",N="Failed to get from server, please try again later",I={weatherDetails:P,autocompleteSearch:L,fiveDayForecast:E,toggleFavorites:O,preferences:j,getByGeolocation:W};async function P(e="215854",t="Tel Aviv"){let a=F.load("cityDetails");if(a){let t=a.find((t=>t.id===e));if(a&&t)return t}try{const r=await fetch(`https://dataservice.accuweather.com/currentconditions/v1/${e}?details=true&apikey=${S}`);let s=await r.json();return s[0].id=e,s[0].name=t,a?(a.push(s[0]),F.save("cityDetails",a),s[0]):(F.save("cityDetails",s),s[0])}catch(r){throw new Error(N)}}async function L(e){if(B(e)&&B(e).length)return B(e);try{const t=await fetch(`https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=${S}&q=${e}`);let a=await t.json();return R(a,e),B(e)}catch(t){throw new Error(N)}}async function E(e="215854",t){let a=F.load("fiveDayForecast");if(a){let t=a.find((t=>t.id===e));if(a&&t)return t}try{const r=await fetch(`https://dataservice.accuweather.com/forecasts/v1/daily/5day/${e}.json?details=true&metric=true&apikey=${S}`);let s=await r.json();return s.id=e,s.isDaytime=t,a?(a.push(s),F.save("fiveDayForecast",a),s):(F.save("fiveDayForecast",[s]),s)}catch(r){throw new Error(N)}}function O(e,t){let a=F.load("preferences"),r=F.load("cityDetails"),s=a.favorites.findIndex((t=>t.id===e));if(a&&s>-1)return a.favorites.splice(s,1),F.save("preferences",a),"removed";let i=r.find((t=>t.id===e));a.favorites.push({id:e,name:t,cityWeatherDetails:i}),F.save("preferences",a)}function j(e,t){let a=F.load("preferences");if(e)return a.lightMode=!a.lightMode,F.save("preferences",a),a;if(t)return a.metric=!a.metric,F.save("preferences",a),a;if(a)return a;{let e={favorites:[],lightMode:!1,metric:!0};return F.save("preferences",e),e}}async function W(e,t){const a=await fetch(`https://dataservice.accuweather.com/locations/v1/cities/geoposition/search?apikey=${S}&q=${e}%2C${t}&details=true`);let r=await a.json(),s={id:r.ParentCity.Key,localizedName:r.ParentCity.LocalizedName};return s}function B(e){let t=F.load("autocomplete");if(!t)return;let a=t.filter((t=>t.textInput.some((t=>t.toLowerCase()===e.toLowerCase()))));return a}function R(e,t){let a=F.load("autocomplete");if(!a){let a=e.map((e=>({...e,textInput:[t]})));return F.save("autocomplete",a),a}let r=e.reduce(((e,r)=>(a.forEach((a=>{if(a.Key===r.Key&&!a.textInput.some((e=>e.toLowerCase()===t.toLowerCase()))){let s={...r,textInput:[...a.textInput,t]};e.push(s)}})),e)),[]),s=e.reduce(((e,a)=>(r.some((e=>e.Key!==a.Key))||e.push({...a,textInput:[t]}),e)),[]),i=[...a,...s];F.save("autocomplete",i)}var z={name:"app",components:{appHeader:x,snackBar:V},data:()=>({gettingLocation:!1,drawer:!1,group:null}),async created(){this.$store.dispatch({type:"loadPreferences"}),this.$vuetify.theme.dark=!this.$store.getters.isLightMode,this.getGeolocation()},methods:{async getGeolocation(){"geolocation"in navigator?(this.gettingLocation=!0,navigator.geolocation.getCurrentPosition((async e=>{this.gettingLocation=!1;let t=await I.getByGeolocation(e.coords.latitude,e.coords.longitude);this.$store.dispatch({type:"loadWeatherDetails",locationId:t.id,locationName:t.localizedName})}),(e=>{this.gettingLocation=!1,this.$store.dispatch({type:"onAlert",category:"error",userMsg:e.message}),this.$store.dispatch({type:"loadWeatherDetails"})}))):this.$store.dispatch({type:"onAlert",category:"warning",userMsg:"Geolocation is not available"})},darkMode(){this.$store.dispatch({type:"loadPreferences",darkMode:!0}),this.$nextTick((()=>{this.$vuetify.theme.dark=!this.$store.getters.isLightMode,this.$store.dispatch({type:"onAlert",category:"info",userMsg:"Theme changed to "+(this.$store.getters.isLightMode?"Light mode":"Dark mode")})}))},toggleMetric(){this.$store.dispatch({type:"loadPreferences",toggleMetric:!0}),this.$nextTick((()=>{this.$store.dispatch({type:"onAlert",category:"info",userMsg:"Measurement changed to "+(this.isMetric?"Celcius":"Fahrenheit")})}))}},computed:{isMetric(){return this.$store.getters.isMetric}},watch:{group(){this.drawer=!1}}},G=z,H=a(7524),K=a(6816),q=a(7620),J=a(3249),U=a(7877),Y=a(8903),Q=(0,u.Z)(G,s,i,!1,null,null,null),X=Q.exports;v()(Q,{VApp:H.Z,VBtn:m.Z,VIcon:g.Z,VList:K.Z,VListItem:q.Z,VListItemGroup:J.Z,VMain:U.Z,VNavigationDrawer:Y.Z,VTooltip:_.Z});var ee=a(5205);(0,ee.z)("/weatherApp/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var te=a(8345),ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.weatherData?a("v-container",{class:this.$vuetify.breakpoint.smAndDown?"pa-2":"pa-0",attrs:{fluid:""}},[a("v-container",{class:["d-flex",this.$vuetify.breakpoint.smAndDown?"flex-column-reverse pa-0":"flex-row"]},[a("current-weather-preview",{attrs:{weatherData:e.weatherData},on:{favorite:e.favorite}}),a("v-spacer"),a("autocomplete-search",{on:{selectedCity:e.selectedCity}})],1),a("v-container",{class:["d-flex",this.$vuetify.breakpoint.smAndDown&&"pa-0 pb-4"]},[a("five-day-forecast-list",{attrs:{fiveDayForecast:e.fiveDayForecast}})],1)],1):e._e()},re=[],se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-col",{class:this.$vuetify.breakpoint.smAndDown&&"pa-0 pt-5",attrs:{cols:"12",sm:"12",md:"4",lg:"4"}},[a("v-autocomplete",{attrs:{loading:e.loading,items:e.items,"search-input":e.search,placeholder:"Search for a city...","item-text":"LocalizedName","item-value":"Key","return-object":"","solo-inverted":"",rounded:"","hide-no-data":""},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t}},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)},ie=[];const oe={debounce:ne};function ne(e,t=500){let a;return function(...r){const s=()=>{clearTimeout(a),e(...r)};clearTimeout(a),a=setTimeout(s,t)}}var le={data(){return{loading:!1,search:null,selected:null,items:[]}},created(){this.getResults=oe.debounce(this.getResults)},methods:{async getResults(e){this.loading=!0;try{this.items=await I.autocompleteSearch(e),this.loading=!1}catch(t){this.$store.dispatch({type:"onAlert",category:"error",userMsg:t})}}},watch:{search(e){e&&e!==this.selected&&this.getResults(e)},selected(e){e&&this.$emit("selectedCity",e)}}},ce=le,ue=a(1486),de=a(2102),ve=(0,u.Z)(ce,se,ie,!1,null,null,null),fe=ve.exports;v()(ve,{VAutocomplete:ue.Z,VCol:de.Z});var pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{staticClass:"ma-0",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"pa-6",attrs:{xs12:"",md12:"",lg12:""}},[a("h1",[e._v("Daily Forecast")])]),e._l(e.fiveDayForecast.DailyForecasts,(function(e,t){return a("v-flex",{key:t,attrs:{wrap:"",xs12:"",sm6:"",md4:"",lg3:"",xl2:""}},[a("five-day-forecast-preview",{staticClass:"mx-auto pa-1",attrs:{daily:e}})],1)}))],2)},me=[],he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{class:this.$vuetify.breakpoint.smAndDown&&"pa-0 pb-4"},[a("v-card",{attrs:{height:"400"}},[a("v-layout",{staticClass:"ma-auto",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md12:"",lg12:""}},[a("v-card-title",[e._v(e._s(e._f("time")(e.daily.EpochDate)))]),a("v-card-text",[a("v-row",{staticClass:"ma-0 pa-0",attrs:{align:"center"}},[a("div",[e._v("High: "+e._s(e.dailyMeasurement(e.daily.Temperature.Maximum)))])]),a("v-row",{staticClass:"ma-0 pa-0",attrs:{align:"center"}},[a("div",[e._v("Low: "+e._s(e.dailyMeasurement(e.daily.Temperature.Minimum)))])])],1)],1),a("v-flex",{attrs:{xs6:"",md6:"",lg6:""}},[a("v-card-text",{staticClass:"d-flex align-center flex-column"},[a("v-row",{staticClass:"ma-0 pb-6",attrs:{align:"center"}},[e._v(" Day ")]),a("v-img",{attrs:{height:"45",width:"75",src:"https://developer.accuweather.com/sites/default/files/"+e.icons(this.daily.Day.Icon)}})],1),a("v-card-text",[a("v-row",{staticClass:"ma-0 pa-0",attrs:{align:"center"}},[e._v(" "+e._s(this.daily.Day.ShortPhrase)+" ")]),a("v-row",{staticClass:"ma-0 pa-0",attrs:{align:"center"}},[e._v(e._s(e._f("probability")(this.daily.Day.RainProbability)))])],1)],1),a("v-flex",{attrs:{xs6:"",md6:"",lg6:""}},[a("v-card-text",{staticClass:"d-flex align-center flex-column"},[a("v-row",{staticClass:"ma-0 pb-6",attrs:{align:"center"}},[e._v(" Night ")]),a("v-img",{attrs:{height:"45",width:"75",src:"https://developer.accuweather.com/sites/default/files/"+e.icons(this.daily.Night.Icon)}})],1),a("v-card-text",[a("v-row",{staticClass:"ma-0 pa-0",attrs:{align:"center"}},[e._v(" "+e._s(this.daily.Night.ShortPhrase)+" ")]),a("v-row",{staticClass:"ma-0 pa-0",attrs:{align:"center"}},[e._v(e._s(e._f("probability")(this.daily.Night.RainProbability)))])],1)],1)],1)],1)],1)},ge=[],ye={name:"fiveDayForecastPreview",props:["daily"],methods:{dailyMeasurement(e){return this.$store.getters.isMetric?e.Value.toFixed(0)+" °C":(9*e.Value/5+32).toFixed(0)+" °F"},icons(e){return e<10?"0"+e+"-s.png":e+"-s.png"}}},we=ye,_e=a(3237),be=a(7118),xe=a(5972),ke=a(7047),De=a(4470),$e=a(2877),Ce=(0,u.Z)(we,he,ge,!1,null,null,null),Me=Ce.exports;v()(Ce,{VCard:_e.Z,VCardText:be.ZB,VCardTitle:be.EB,VContainer:h.Z,VFlex:xe.Z,VImg:ke.Z,VLayout:De.Z,VRow:$e.Z});var Ze={components:{fiveDayForecastPreview:Me},name:"fiveDayForecastList",props:["fiveDayForecast"]},Ve=Ze,Fe=(0,u.Z)(Ve,pe,me,!1,null,null,null),Te=Fe.exports;v()(Fe,{VFlex:xe.Z,VLayout:De.Z});var Ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.weatherData?a("v-card",{staticClass:"d-flex flex-column pa-2",attrs:{"max-width":"500"}},[a("div",{staticClass:"d-flex align-center"},[a("v-card-title",[e._v(e._s(e.weatherData.name)+", "+e._s(e.measurement(e.weatherData.Temperature))+" as of "+e._s(e._f("time")(e.weatherData.EpochTime)))]),e.isFavorite?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({staticClass:"blue darken-3",attrs:{small:"",fab:""},on:{click:function(t){return e.favorite()}}},r),[a("v-icon",{attrs:{color:"red"}},[e._v("mdi-heart")])],1)]}}],null,!1,3842452808)},[a("span",[e._v("Unfavorite")])]):a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({staticClass:"blue darken-3",attrs:{small:"",fab:""},on:{click:function(t){return e.favorite()}}},r),[a("v-icon",{attrs:{color:"grey"}},[e._v("mdi-heart")])],1)]}}],null,!1,1765002770)},[a("span",[e._v("Favorite")])])],1),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"d-flex flex-column align-center"},[a("v-img",{attrs:{height:"45",width:"75",src:"https://developer.accuweather.com/sites/default/files/"+e.icons(e.weatherData.WeatherIcon)}}),a("v-card-text",[a("span",[e._v(e._s(e.weatherData.WeatherText))]),a("v-spacer"),a("span",[e._v(e._s(e.measurement(e.weatherData.TemperatureSummary.Past12HourRange.Minimum))+" - "+e._s(e.measurement(e.weatherData.TemperatureSummary.Past12HourRange.Maximum)))])],1)],1),a("div",{staticClass:"d-flex flex-column mx-auto justify-end"},[a("v-card-text",[a("span",[e._v("Relative Humidity: "+e._s(e.weatherData.RelativeHumidity)+"%")]),a("v-spacer"),a("span",[e._v("Feels like: "+e._s(e.measurement(e.weatherData.RealFeelTemperature))+", "+e._s(e.weatherData.RealFeelTemperature.Metric.Phrase))])],1)],1)])]):e._e()},Se=[],Ne={name:"currentWeatherPreview",props:["weatherData"],methods:{measurement(e){return this.$store.getters.isMetric?e.Metric.Value.toFixed(0)+" °C":e.Imperial.Value.toFixed(0)+" °F"},icons(e){return e<10?"0"+e+"-s.png":e+"-s.png"},favorite(){this.$emit("favorite")}},computed:{isFavorite(){return this.$store.getters.favorites.find((e=>e.id===this.weatherData.id))}}},Ie=Ne,Pe=(0,u.Z)(Ie,Ae,Se,!1,null,null,null),Le=Pe.exports;v()(Pe,{VBtn:m.Z,VCard:_e.Z,VCardText:be.ZB,VCardTitle:be.EB,VIcon:g.Z,VImg:ke.Z,VSpacer:y.Z,VTooltip:_.Z});var Ee={components:{currentWeatherPreview:Le,fiveDayForecastList:Te,autocompleteSearch:fe},name:"mainApp",data(){return{localizedName:"Tel Aviv",id:"215854"}},methods:{selectedCity(e){this.localizedName=e.LocalizedName,this.id=e.Key,this.$store.dispatch({type:"loadWeatherDetails",locationId:e.Key,locationName:e.LocalizedName})},favorite(){let e=this.weatherData,t=I.toggleFavorites(e.id,e.name);this.$nextTick((()=>{this.$store.dispatch({type:"loadPreferences"}),t?this.$store.dispatch({type:"onAlert",category:"success",userMsg:`Successfully ${t} ${e.name} from favorites`}):this.$store.dispatch({type:"onAlert",category:"success",userMsg:`Successfully added ${e.name} to favorites`})}))}},computed:{weatherData(){return this.$store.getters.weatherDetails},fiveDayForecast(){return this.$store.getters.fiveDayForecast}}},Oe=Ee,je=(0,u.Z)(Oe,ae,re,!1,null,null,null),We=je.exports;v()(je,{VContainer:h.Z,VSpacer:y.Z});var Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("favorites-list",{attrs:{favorites:e.getFavorites},on:{favoriteToggle:e.favoriteToggle,setNewDetails:e.setNewDetails}})],1)},Re=[],ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex flex-column align-center mt-10"},e._l(e.favorites,(function(t){return a("div",{key:t.id},[a("favorite-preview",{staticClass:"mb-2",attrs:{favorite:t},on:{favoriteToggle:e.favoriteToggle,setNewDetails:e.setNewDetails}})],1)})),0)},Ge=[],He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.favorite.cityWeatherDetails?a("v-card",{staticClass:"pa-2",attrs:{width:e.width},on:{click:e.setNewDetails}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs10:"",md10:"",lg10:""}},[a("v-card-title",[e._v(" "+e._s(e.favorite.id)+" | "+e._s(e.favorite.name)+", "+e._s(e.measurement(e.favorite.cityWeatherDetails.Temperature))+", "+e._s(e.favorite.cityWeatherDetails.WeatherText)+" as of "+e._s(e._f("time")(e.favorite.cityWeatherDetails.EpochTime))+" ")])],1),a("v-flex",{staticClass:"d-flex align-center justify-sm-end pa-3"},[e.isFavorite?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{color:"info",small:"",fab:""},on:{click:function(t){return e.favoriteToggle()}}},r),[a("v-icon",{attrs:{color:"purple"}},[e._v("mdi-heart")])],1)]}}],null,!1,1012875989)},[a("span",[e._v("Unfavorite")])]):a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{color:"info",small:"",fab:""},on:{click:function(t){return e.favoriteToggle()}}},r),[a("v-icon",{attrs:{color:"grey"}},[e._v("mdi-heart")])],1)]}}],null,!1,2928033042)},[a("span",[e._v("Favorite")])])],1)],1)],1):e._e()},Ke=[],qe={name:"favoritePreview",props:["favorite"],data(){return{isFavorite:!0}},methods:{measurement(e){return this.$store.getters.isMetric?e.Metric.Value.toFixed(0)+" °C":e.Imperial.Value.toFixed(0)+" F"},icons(e){return e<10?"0"+e+"-s.png":e+"-s.png"},favoriteToggle(){this.$emit("favoriteToggle",this.favorite.id,this.favorite.name)},setNewDetails(){this.$emit("setNewDetails",this.favorite.id)}},computed:{width(){switch(this.$vuetify.breakpoint.name){case"xs":return"100%";case"sm":return 600;case"md":return 700;case"lg":return 700;case"xl":return 700}}}},Je=qe,Ue=(0,u.Z)(Je,He,Ke,!1,null,null,null),Ye=Ue.exports;v()(Ue,{VBtn:m.Z,VCard:_e.Z,VCardTitle:be.EB,VFlex:xe.Z,VIcon:g.Z,VLayout:De.Z,VTooltip:_.Z});var Qe={components:{favoritePreview:Ye},name:"favoritesList",props:["favorites"],methods:{favoriteToggle(e,t){this.$emit("favoriteToggle",e,t)},setNewDetails(e){this.$emit("setNewDetails",e)}}},Xe=Qe,et=(0,u.Z)(Xe,ze,Ge,!1,null,null,null),tt=et.exports,at={components:{favoritesList:tt},name:"favorites",methods:{favoriteToggle(e,t){I.toggleFavorites(e,t),this.$nextTick((()=>{this.$store.dispatch({type:"loadPreferences"})}))},setNewDetails(e){this.$store.dispatch({type:"loadWeatherDetails",locationId:e}),this.$nextTick((()=>{this.$router.push("/")}))}},computed:{getFavorites(){return this.$store.getters.favorites}}},rt=at,st=(0,u.Z)(rt,Be,Re,!1,null,null,null),it=st.exports;v()(st,{VContainer:h.Z}),r.Z.use(te.Z);const ot=[{path:"/",name:"home",component:We},{path:"/favorites",name:"favorites",component:it}],nt=new te.Z({routes:ot});var lt=nt,ct=a(629);r.Z.use(ct.ZP);var ut=new ct.ZP.Store({state:{preferences:[],weatherData:[],alert:{category:"",userMsg:""}},getters:{isMetric({preferences:e}){return e.metric},isLightMode({preferences:e}){return e.lightMode},favorites({preferences:e}){return e.favorites},weatherDetails({weatherData:e}){return e.weatherDetails},fiveDayForecast({weatherData:e}){return e.fiveDayForecast},userAlert({alert:e}){return e}},mutations:{setPreferences(e,{preferences:t}){e.preferences=t},setWeatherData(e,{weatherData:t}){e.weatherData=t},dismissAlert(e){e.alert.category="",e.alert.userMsg=""},setAlert(e,{alert:t}){e.alert=t}},actions:{loadPreferences({commit:e},{darkMode:t,toggleMetric:a}){const r=I.preferences(t,a);e({type:"setPreferences",preferences:r})},async loadWeatherDetails({dispatch:e,commit:t},{locationId:a,locationName:r}){try{const e=await I.weatherDetails(a,r),s=await I.fiveDayForecast(a,e.IsDayTime);t({type:"setWeatherData",weatherData:{weatherDetails:e,fiveDayForecast:s}})}catch(s){e({type:"onAlert",category:"error",userMsg:s})}},dismissUserAlert({commit:e}){e({type:"dismissAlert"})},onAlert({commit:e},{category:t,userMsg:a}){e({type:"setAlert",alert:{category:t,userMsg:a}})}},modules:{}}),dt=a(9132),vt=a(1846);r.Z.use(dt.Z);var ft=new dt.Z({theme:{themes:{light:{primary:vt.Z.purple,secondary:vt.Z.grey.darken1,accent:vt.Z.shades.black,error:vt.Z.red.accent3,background:vt.Z.indigo.lighten5},dark:{primary:vt.Z.blue.lighten3,background:vt.Z.indigo.base}}}});r.Z.config.productionTip=!1,r.Z.filter("time",(function(e){const t=1e3*e;var a=new Date(t);return a.toLocaleString("en-GB",{weekday:"long",day:"2-digit"})})),r.Z.filter("probability",(function(e){return e?e+"% chance for rain":""})),new r.Z({router:lt,store:ut,vuetify:ft,render:e=>e(X)}).$mount("#app")}},t={};function a(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,r,s,i){if(!r){var o=1/0;for(u=0;u<e.length;u++){r=e[u][0],s=e[u][1],i=e[u][2];for(var n=!0,l=0;l<r.length;l++)(!1&i||o>=i)&&Object.keys(a.O).every((function(e){return a.O[e](r[l])}))?r.splice(l--,1):(n=!1,i<o&&(o=i));if(n){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[r,s,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,i,o=r[0],n=r[1],l=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(s in n)a.o(n,s)&&(a.m[s]=n[s]);if(l)var u=l(a)}for(t&&t(r);c<o.length;c++)i=o[c],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(u)},r=self["webpackChunkweather"]=self["webpackChunkweather"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(3770)}));r=a.O(r)})();
//# sourceMappingURL=app.570d0c42.js.map